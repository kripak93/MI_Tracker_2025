/*! For license information please see main.4349be6e.js.LICENSE.txt */
(()=>{"use strict";var e={7004:(e,t,n)=>{var r=n(8853),i=n(5043),a=n(7950);function o(e){var t="https://fd8f3d49-55e9-440c-977d-aa12472faf42.preview.emergentagent.com","/api");const qu=function(){var e,t,n,r,a,o,s;const[l,c]=(0,i.useState)([]),[f,d]=(0,i.useState)(""),[h,p]=(0,i.useState)([]),[m,g]=(0,i.useState)({}),[v,b]=(0,i.useState)({}),[y,w]=(0,i.useState)(!1),[x,S]=(0,i.useState)(""),[N,k]=(0,i.useState)("dashboard"),[L,A]=(0,i.useState)({players:[],summary:{}}),[_,P]=(0,i.useState)({}),[C,j]=(0,i.useState)({player:"",format:"",tournament:"",season:"",date_from:"",date_to:""}),[E,F]=(0,i.useState)(!1);(0,i.useEffect)((()=>{O()}),[]);const O=async()=>{try{w(!0),await Promise.all([T(),I(),R(),D(),M()])}catch(x){S("Failed to load initial data"),console.error("Error loading initial data:",x)}finally{w(!1)}},T=async()=>{try{const e=await Ft.get("".concat(Bu,"/players"));c(e.data)}catch(x){console.error("Error loading players:",x)}},I=async()=>{try{const e=await Ft.get("".concat(Bu,"/stats"));g(e.data)}catch(x){console.error("Error loading stats:",x)}},R=async()=>{try{const e=await Ft.get("".concat(Bu,"/sync-status"));b(e.data)}catch(x){console.error("Error loading sync status:",x)}},D=async()=>{try{const e=await Ft.get("".concat(Bu,"/matches?limit=20"));p(e.data)}catch(x){console.error("Error loading matches:",x)}},M=async()=>{try{const e=await Ft.get("".concat(Bu,"/analytics/filters"));P(e.data)}catch(x){console.error("Error loading analytics filters:",x)}},z=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C;try{F(!0);const t=new URLSearchParams;Object.keys(e).forEach((n=>{e[n]&&t.append(n,e[n])}));const n=await Ft.get("".concat(Bu,"/analytics?").concat(t.toString()));A(n.data)}catch(x){console.error("Error loading analytics data:",x),S("Failed to load analytics data")}finally{F(!1)}},B=e=>{d(e),e?(async e=>{try{w(!0);const t=await Ft.get("".concat(Bu,"/players/").concat(encodeURIComponent(e),"/matches"));p(t.data)}catch(x){S("Failed to load player matches"),console.error("Error loading player matches:",x)}finally{w(!1)}})(e):D()},q=(e,t)=>{const n=u(u({},C),{},{[e]:t});j(n)},U=e=>{try{return new Date(e).toLocaleDateString()}catch(t){return e}},W=e=>"".concat(e.team1," vs ").concat(e.team2),H=e=>{let{title:t,value:n,icon:r,subtitle:i}=e;return(0,es.jsx)(ss,{className:"bg-gradient-to-br from-blue-50 to-indigo-100 border-0 shadow-lg",children:(0,es.jsx)(cs,{className:"p-6",children:(0,es.jsxs)("div",{className:"flex items-center justify-between",children:[(0,es.jsxs)("div",{children:[(0,es.jsx)("p",{className:"text-sm font-medium text-gray-600",children:t}),(0,es.jsx)("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:n}),i&&(0,es.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:i})]}),(0,es.jsx)("div",{className:"p-3 bg-blue-500 rounded-full",children:(0,es.jsx)(r,{className:"h-8 w-8 text-white"})})]})})})},V=e=>{let{match:t}=e;return(0,es.jsx)(ss,{className:"mb-4 hover:shadow-lg transition-shadow border-l-4 border-l-blue-500",children:(0,es.jsxs)(cs,{className:"p-6",children:[(0,es.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,es.jsxs)("div",{children:[(0,es.jsx)("h4",{className:"text-lg font-semibold text-gray-900",children:W(t)}),(0,es.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:[t.venue," \u2022 ",t.city]}),(0,es.jsxs)("p",{className:"text-xs text-gray-500",children:[t.season," \u2022 ",t.tournament]})]}),(0,es.jsxs)("div",{className:"text-right",children:[(0,es.jsx)(js,{variant:"outline",className:"mb-2",children:t.format}),(0,es.jsx)("p",{className:"text-sm text-gray-500",children:U(t.date)}),t.total_deliveries_involved&&(0,es.jsxs)("p",{className:"text-xs text-blue-500",children:[t.total_deliveries_involved," deliveries"]})]})]}),(0,es.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",children:[(0,es.jsxs)("div",{children:[(0,es.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Player"}),(0,es.jsx)("p",{className:"text-lg font-semibold text-blue-600",children:t.player_name})]}),(0,es.jsxs)("div",{children:[(0,es.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Batting"}),t.batting_stats?(0,es.jsxs)("div",{className:"text-sm",children:[(0,es.jsxs)("span",{className:"font-semibold text-green-600",children:[t.batting_stats.runs,"(",t.batting_stats.balls,")"]}),(0,es.jsxs)("div",{className:"text-xs text-gray-500",children:["SR: ",t.batting_stats.strike_rate," \u2022 4s: ",t.batting_stats.fours," \u2022 6s: ",t.batting_stats.sixes]}),t.batting_stats.dots>0&&(0,es.jsxs)("div",{className:"text-xs text-gray-400",children:["Dots: ",t.batting_stats.dots]})]}):(0,es.jsx)("span",{className:"text-xs text-gray-400",children:"Did not bat"})]}),(0,es.jsxs)("div",{children:[(0,es.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Bowling"}),t.bowling_stats?(0,es.jsxs)("div",{className:"text-sm",children:[(0,es.jsxs)("span",{className:"font-semibold text-purple-600",children:[t.bowling_stats.wickets,"/",t.bowling_stats.runs_conceded," (",t.bowling_stats.overs,")"]}),(0,es.jsxs)("div",{className:"text-xs text-gray-500",children:["Econ: ",t.bowling_stats.economy,t.bowling_stats.strike_rate&&" \u2022 SR: ".concat(t.bowling_stats.strike_rate)]}),t.bowling_stats.dots>0&&(0,es.jsxs)("div",{className:"text-xs text-gray-400",children:["Dots: ",t.bowling_stats.dots]})]}):(0,es.jsx)("span",{className:"text-xs text-gray-400",children:"Did not bowl"})]}),(0,es.jsxs)("div",{children:[(0,es.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Fielding"}),t.fielding_stats&&t.fielding_stats.total_dismissals>0?(0,es.jsxs)("div",{className:"text-sm",children:[(0,es.jsxs)("span",{className:"font-semibold text-orange-600",children:[t.fielding_stats.total_dismissals," dismissal(s)"]}),(0,es.jsxs)("div",{className:"text-xs text-gray-500",children:[t.fielding_stats.catches>0&&"C: ".concat(t.fielding_stats.catches," "),t.fielding_stats.run_outs>0&&"RO: ".concat(t.fielding_stats.run_outs," "),t.fielding_stats.stumpings>0&&"St: ".concat(t.fielding_stats.stumpings)]})]}):(0,es.jsx)("span",{className:"text-xs text-gray-400",children:"No dismissals"})]})]}),t.match_result&&"Unknown"!==t.match_result&&(0,es.jsx)("div",{className:"mt-3 pt-3 border-t border-gray-200",children:(0,es.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,es.jsx)("span",{className:"font-medium",children:"Result:"})," ",t.match_result]})})]})})},G=e=>{let{player:t}=e;return(0,es.jsxs)(ss,{className:"mb-6 hover:shadow-lg transition-shadow",children:[(0,es.jsx)(ls,{children:(0,es.jsxs)("div",{className:"flex justify-between items-center",children:[(0,es.jsx)(us,{className:"text-xl text-gray-900",children:t.player_name}),(0,es.jsxs)(js,{className:"bg-blue-100 text-blue-800",children:[t.total_matches," matches"]})]})}),(0,es.jsxs)(cs,{children:[(0,es.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,es.jsxs)("div",{className:"p-4 bg-green-50 rounded-lg",children:[(0,es.jsxs)("h4",{className:"font-semibold text-green-800 mb-3 flex items-center",children:[(0,es.jsx)(Cu,{className:"h-4 w-4 mr-2"}),"Batting"]}),(0,es.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,es.jsxs)("div",{className:"flex justify-between",children:[(0,es.jsx)("span",{children:"Innings:"}),(0,es.jsx)("span",{className:"font-medium",children:t.batting.innings})]}),(0,es.jsxs)("div",{className:"flex justify-between",children:[(0,es.jsx)("span",{children:"Runs:"}),(0,es.jsx)("span",{className:"font-medium",children:t.batting.runs})]}),(0,es.jsxs)("div",{className:"flex justify-between",children:[(0,es.jsx)("span",{children:"Average:"}),(0,es.jsx)("span",{className:"font-medium",children:t.batting.average})]}),(0,es.jsxs)("div",{className:"flex justify-between",children:[(0,es.jsx)("span",{children:"Strike Rate:"}),(0,es.jsx)("span",{className:"font-medium",children:t.batting.strike_rate})]}),(0,es.jsxs)("div",{className:"flex justify-between",children:[(0,es.jsx)("span",{children:"Highest:"}),(0,es.jsx)("span",{className:"font-medium",children:t.batting.highest_score})]}),(0,es.jsxs)("div",{className:"flex justify-between",children:[(0,es.jsx)("span",{children:"100s/50s:"}),(0,es.jsxs)("span",{className:"font-medium",children:[t.batting.centuries,"/",t.batting.half_centuries]})]})]})]}),(0,es.jsxs)("div",{className:"p-4 bg-purple-50 rounded-lg",children:[(0,es.jsxs)("h4",{className:"font-semibold text-purple-800 mb-3 flex items-center",children:[(0,es.jsx)(ju,{className:"h-4 w-4 mr-2"}),"Bowling"]}),(0,es.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,es.jsxs)("div",{className:"flex justify-between",children:[(0,es.jsx)("span",{children:"Innings:"}),(0,es.jsx)("span",{className:"font-medium",children:t.bowling.innings})]}),(0,es.jsxs)("div",{className:"flex justify-between",children:[(0,es.jsx)("span",{children:"Wickets:"}),(0,es.jsx)("span",{className:"font-medium",children:t.bowling.wickets})]}),(0,es.jsxs)("div",{className:"flex justify-between",children:[(0,es.jsx)("span",{children:"Average:"}),(0,es.jsx)("span",{className:"font-medium",children:t.bowling.average})]}),(0,es.jsxs)("div",{className:"flex justify-between",children:[(0,es.jsx)("span",{children:"Economy:"}),(0,es.jsx)("span",{className:"font-medium",children:t.bowling.economy})]}),(0,es.jsxs)("div",{className:"flex justify-between",children:[(0,es.jsx)("span",{children:"Strike Rate:"}),(0,es.jsx)("span",{className:"font-medium",children:t.bowling.strike_rate})]}),(0,es.jsxs)("div",{className:"flex justify-between",children:[(0,es.jsx)("span",{children:"Best:"}),(0,es.jsx)("span",{className:"font-medium",children:t.bowling.best_figures})]})]})]}),(0,es.jsxs)("div",{className:"p-4 bg-orange-50 rounded-lg",children:[(0,es.jsxs)("h4",{className:"font-semibold text-orange-800 mb-3 flex items-center",children:[(0,es.jsx)(Eu,{className:"h-4 w-4 mr-2"}),"Fielding & Career"]}),(0,es.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,es.jsxs)("div",{className:"flex justify-between",children:[(0,es.jsx)("span",{children:"Catches:"}),(0,es.jsx)("span",{className:"font-medium",children:t.fielding.catches})]}),(0,es.jsxs)("div",{className:"flex justify-between",children:[(0,es.jsx)("span",{children:"Run Outs:"}),(0,es.jsx)("span",{className:"font-medium",children:t.fielding.run_outs})]}),(0,es.jsxs)("div",{className:"flex justify-between",children:[(0,es.jsx)("span",{children:"Stumpings:"}),(0,es.jsx)("span",{className:"font-medium",children:t.fielding.stumpings})]}),(0,es.jsxs)("div",{className:"flex justify-between",children:[(0,es.jsx)("span",{children:"Formats:"}),(0,es.jsx)("span",{className:"font-medium",children:t.formats.length})]}),(0,es.jsxs)("div",{className:"flex justify-between",children:[(0,es.jsx)("span",{children:"Tournaments:"}),(0,es.jsx)("span",{className:"font-medium",children:t.tournaments.length})]}),(0,es.jsxs)("div",{className:"flex justify-between",children:[(0,es.jsx)("span",{children:"Venues:"}),(0,es.jsx)("span",{className:"font-medium",children:t.venues.length})]})]})]})]}),t.recent_form&&t.recent_form.length>0&&(0,es.jsxs)("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:[(0,es.jsx)("h4",{className:"font-semibold text-gray-800 mb-3",children:"Recent Form"}),(0,es.jsx)("div",{className:"flex space-x-2",children:t.recent_form.map(((e,t)=>(0,es.jsxs)(js,{variant:"outline",className:"text-xs",children:[null!==e.batting_runs?"".concat(e.batting_runs):"",null!==e.bowling_wickets?"".concat(e.bowling_wickets,"w"):""]},t)))})]})]})]})};return y&&!l.length?(0,es.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 to-blue-900 flex items-center justify-center",children:(0,es.jsxs)("div",{className:"text-center",children:[(0,es.jsx)(Fu,{className:"h-12 w-12 animate-spin text-white mb-4"}),(0,es.jsx)("p",{className:"text-white text-lg",children:"Loading Mumbai Indians Player Tracker..."})]})}):(0,es.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 to-blue-900",children:[(0,es.jsx)("header",{className:"bg-white/10 backdrop-blur-md border-b border-white/20",children:(0,es.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:(0,es.jsxs)("div",{className:"flex justify-between items-center",children:[(0,es.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,es.jsx)("div",{className:"p-3 bg-blue-600 rounded-full",children:(0,es.jsx)(Ou,{className:"h-8 w-8 text-white"})}),(0,es.jsxs)("div",{children:[(0,es.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Mumbai Indians"}),(0,es.jsx)("p",{className:"text-blue-200",children:"Player Performance Tracker"})]})]}),(0,es.jsxs)("div",{className:"flex space-x-2",children:[(0,es.jsxs)(_s,{onClick:async()=>{try{w(!0),S("");const e=await Ft.post("".concat(Bu,"/sync-data"));e.data.success?(await O(),S("")):S(e.data.message||"Sync failed")}catch(x){S("Failed to sync data"),console.error("Error syncing data:",x)}finally{w(!1)}},disabled:y,className:"bg-blue-600 hover:bg-blue-700 text-white",children:[y?(0,es.jsx)(Fu,{className:"h-4 w-4 animate-spin mr-2"}):(0,es.jsx)(Tu,{className:"h-4 w-4 mr-2"}),"Sync Data"]}),(0,es.jsxs)(_s,{onClick:async()=>{try{w(!0),S("");const e=await Ft.post("".concat(Bu,"/cleanup-duplicates"));e.data.success?(await O(),S("")):S(e.data.message||"Cleanup failed")}catch(x){S("Failed to cleanup duplicates"),console.error("Error cleaning up duplicates:",x)}finally{w(!1)}},disabled:y,variant:"outline",className:"border-white/20 text-white hover:bg-white/10",children:[y?(0,es.jsx)(Fu,{className:"h-4 w-4 animate-spin mr-2"}):(0,es.jsx)(Iu,{className:"h-4 w-4 mr-2"}),"Cleanup"]})]})]})})}),(0,es.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[x&&(0,es.jsx)(wu,{className:"mb-6 bg-red-50 border-red-200",children:(0,es.jsx)(xu,{className:"text-red-800",children:x})}),(0,es.jsxs)(Yl,{value:N,onValueChange:k,className:"space-y-6",children:[(0,es.jsxs)(Kl,{className:"grid w-full grid-cols-4 bg-white/10 backdrop-blur-md",children:[(0,es.jsx)($l,{value:"dashboard",className:"text-white data-[state=active]:bg-blue-600",children:"Dashboard"}),(0,es.jsx)($l,{value:"players",className:"text-white data-[state=active]:bg-blue-600",children:"Players"}),(0,es.jsx)($l,{value:"matches",className:"text-white data-[state=active]:bg-blue-600",children:"Matches"}),(0,es.jsx)($l,{value:"analytics",className:"text-white data-[state=active]:bg-blue-600",children:"Analytics"})]}),(0,es.jsx)(Xl,{value:"dashboard",children:(0,es.jsxs)("div",{className:"space-y-6",children:[(0,es.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,es.jsx)(H,{title:"Total Players",value:m.total_players||0,icon:Iu,subtitle:"Active MI Squad"}),(0,es.jsx)(H,{title:"Total Matches",value:m.total_matches||0,icon:Ru,subtitle:"Match Records"}),(0,es.jsx)(H,{title:"Data Status",value:"completed"===v.status?"Updated":"Pending",icon:ju,subtitle:v.message}),(0,es.jsx)(H,{title:"Last Sync",value:v.last_sync?U(v.last_sync):"Never",icon:Du,subtitle:"Data Freshness"})]}),(0,es.jsxs)(ss,{className:"bg-white/95 backdrop-blur-sm",children:[(0,es.jsx)(ls,{children:(0,es.jsx)(us,{className:"text-gray-900",children:"Recent Match Activity"})}),(0,es.jsx)(cs,{children:h.slice(0,3).map(((e,t)=>(0,es.jsx)(V,{match:e},t)))})]})]})}),(0,es.jsx)(Xl,{value:"players",children:(0,es.jsxs)(ss,{className:"bg-white/95 backdrop-blur-sm",children:[(0,es.jsx)(ls,{children:(0,es.jsx)(us,{className:"text-gray-900",children:"Mumbai Indians Squad 2025"})}),(0,es.jsx)(cs,{children:(0,es.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map(((e,t)=>(0,es.jsx)(ss,{className:"hover:shadow-lg transition-shadow cursor-pointer border-2 hover:border-blue-500",children:(0,es.jsxs)(cs,{className:"p-4",children:[(0,es.jsxs)("div",{className:"flex items-center justify-between",children:[(0,es.jsxs)("div",{children:[(0,es.jsx)("h4",{className:"font-semibold text-gray-900",children:e.name}),(0,es.jsx)("p",{className:"text-sm text-gray-600",children:e.team})]}),(0,es.jsx)(js,{variant:e.active?"default":"secondary",children:e.active?"Active":"Inactive"})]}),(0,es.jsx)(_s,{variant:"outline",size:"sm",className:"w-full mt-3",onClick:()=>{B(e.name),k("matches")},children:"View Matches"})]})},t)))})})]})}),(0,es.jsx)(Xl,{value:"matches",children:(0,es.jsxs)(ss,{className:"bg-white/95 backdrop-blur-sm",children:[(0,es.jsx)(ls,{children:(0,es.jsxs)("div",{className:"flex justify-between items-center",children:[(0,es.jsx)(us,{className:"text-gray-900",children:"Match History"}),(0,es.jsxs)("select",{value:f,onChange:e=>B(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-md bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,es.jsx)("option",{value:"",children:"All Players"}),l.map(((e,t)=>(0,es.jsx)("option",{value:e.name,children:e.name},t)))]})]})}),(0,es.jsx)(cs,{children:y?(0,es.jsxs)("div",{className:"text-center py-8",children:[(0,es.jsx)(Fu,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),(0,es.jsx)("p",{children:"Loading matches..."})]}):h.length>0?(0,es.jsx)("div",{className:"space-y-4",children:h.map(((e,t)=>(0,es.jsx)(V,{match:e},t)))}):(0,es.jsxs)("div",{className:"text-center py-8",children:[(0,es.jsx)(Ru,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,es.jsx)("p",{className:"text-gray-600",children:"No match data available"}),(0,es.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Try syncing data or check back later"})]})})]})}),(0,es.jsx)(Xl,{value:"analytics",children:(0,es.jsxs)("div",{className:"space-y-6",children:[(0,es.jsxs)(ss,{className:"bg-white/95 backdrop-blur-sm",children:[(0,es.jsx)(ls,{children:(0,es.jsxs)("div",{className:"flex justify-between items-center",children:[(0,es.jsxs)(us,{className:"text-gray-900 flex items-center",children:[(0,es.jsx)(Mu,{className:"h-5 w-5 mr-2"}),"Analytics Filters"]}),(0,es.jsxs)("div",{className:"flex space-x-2",children:[(0,es.jsx)(_s,{onClick:()=>{z(C)},size:"sm",children:"Apply Filters"}),(0,es.jsx)(_s,{onClick:()=>{const e={player:"",format:"",tournament:"",season:"",date_from:"",date_to:""};j(e),z(e)},variant:"outline",size:"sm",children:"Clear All"}),(0,es.jsxs)(_s,{onClick:()=>{try{console.log("Starting PDF export..."),console.log("jsPDF available:",typeof cr),console.log("Analytics data:",L);const n=new cr;console.log("PDF document created successfully");const r=n.internal.pageSize.getWidth(),i=n.internal.pageSize.getHeight();n.setFillColor(59,130,246),n.rect(0,0,r,40,"F"),n.setTextColor(255,255,255),n.setFontSize(24),n.setFont("helvetica","bold"),n.text("Mumbai Indians",20,25),n.setFontSize(14),n.setFont("helvetica","normal"),n.text("Player Performance Analytics Report",20,35),n.setTextColor(0,0,0);let a=50;n.setFontSize(12),n.setFont("helvetica","bold"),n.text("Report Generated:",20,a),n.setFont("helvetica","normal"),n.text((new Date).toLocaleDateString(),90,a),a+=10,n.setFont("helvetica","bold"),n.text("Applied Filters:",20,a),a+=8,n.setFont("helvetica","normal"),n.setFontSize(10);const o=[];if(C.player&&o.push("Player: ".concat(C.player)),C.format&&o.push("Format: ".concat(C.format)),C.tournament&&o.push("Tournament: ".concat(C.tournament)),C.season&&o.push("Season: ".concat(C.season)),C.date_from&&o.push("From: ".concat(C.date_from)),C.date_to&&o.push("To: ".concat(C.date_to)),o.length>0?o.forEach((e=>{n.text("\u2022 ".concat(e),25,a),a+=6})):(n.text("\u2022 No filters applied (All data)",25,a),a+=6),a+=10,L.summary&&Object.keys(L.summary).length>0){var e,t;n.setFontSize(14),n.setFont("helvetica","bold"),n.text("Summary Statistics",20,a),a+=10;const r=[["Total Matches",L.summary.total_matches||0],["Unique Players",L.summary.unique_players||0],["Formats Covered",L.summary.formats_covered||0],["Tournaments Covered",L.summary.tournaments_covered||0],["Date Range","".concat((null===(e=L.summary.date_range)||void 0===e?void 0:e.from)||"N/A"," to ").concat((null===(t=L.summary.date_range)||void 0===t?void 0:t.to)||"N/A")]];console.log("Adding summary table with autoTable..."),n.autoTable({startY:a,head:[["Metric","Value"]],body:r,theme:"grid",headStyles:{fillColor:[59,130,246],textColor:255},margin:{left:20,right:20},styles:{fontSize:10}}),a=n.lastAutoTable.finalY+15}L.players&&L.players.length>0&&(console.log("Adding ".concat(L.players.length," players to PDF...")),a>i-100&&(n.addPage(),a=20),n.setFontSize(14),n.setFont("helvetica","bold"),n.text("Player Performance Details",20,a),a+=10,L.players.forEach(((e,t)=>{var r,o,s;if(a>i-80&&(n.addPage(),a=20),n.setFontSize(13),n.setFont("helvetica","bold"),n.text("".concat(t+1,". ").concat(e.player_name),20,a),n.setFontSize(10),n.setFont("helvetica","normal"),n.text("(".concat(e.total_matches," matches)"),120,a),a+=8,e.batting&&e.batting.innings>0){const t=[["Innings",e.batting.innings],["Runs",e.batting.runs],["Average",e.batting.average],["Strike Rate",e.batting.strike_rate],["Highest Score",e.batting.highest_score],["100s/50s","".concat(e.batting.centuries,"/").concat(e.batting.half_centuries)],["Fours/Sixes","".concat(e.batting.fours,"/").concat(e.batting.sixes)]];n.autoTable({startY:a,head:[["Batting Statistics","Value"]],body:t,theme:"striped",headStyles:{fillColor:[34,197,94],textColor:255},margin:{left:25},tableWidth:80,styles:{fontSize:9}}),a=n.lastAutoTable.finalY+5}if(e.bowling&&e.bowling.innings>0){const t=[["Innings",e.bowling.innings],["Wickets",e.bowling.wickets],["Average",e.bowling.average],["Economy",e.bowling.economy],["Strike Rate",e.bowling.strike_rate],["Best Figures",e.bowling.best_figures],["5W/4W","".concat(e.bowling.five_wickets,"/").concat(e.bowling.four_wickets)]];n.autoTable({startY:a,head:[["Bowling Statistics","Value"]],body:t,theme:"striped",headStyles:{fillColor:[147,51,234],textColor:255},margin:{left:105},tableWidth:80,styles:{fontSize:9}}),a=Math.max(a,n.lastAutoTable.finalY)+5}e.fielding&&e.fielding.total_dismissals>0&&(n.setFontSize(9),n.text("Fielding: ".concat(e.fielding.catches," catches, ").concat(e.fielding.run_outs," run-outs, ").concat(e.fielding.stumpings," stumpings"),25,a),a+=8),n.setFontSize(9),n.setTextColor(100,100,100),n.text("Formats: ".concat((null===(r=e.formats)||void 0===r?void 0:r.join(", "))||"N/A"),25,a),a+=6,n.text("Tournaments: ".concat((null===(o=e.tournaments)||void 0===o?void 0:o.slice(0,3).join(", "))||"N/A").concat((null===(s=e.tournaments)||void 0===s?void 0:s.length)>3?"...":""),25,a),a+=10,n.setTextColor(0,0,0)})));const s=n.internal.getNumberOfPages();for(let e=1;e<=s;e++)n.setPage(e),n.setFontSize(8),n.setTextColor(100,100,100),n.text("Mumbai Indians Player Tracker - Page ".concat(e," of ").concat(s),r-80,i-10),n.text("Generated on ".concat((new Date).toLocaleDateString()),20,i-10);const l=(new Date).toISOString().split("T")[0],u=C.player?"_".concat(C.player.replace(/\s+/g,"_")):C.format?"_".concat(C.format):C.tournament?"_".concat(C.tournament.replace(/\s+/g,"_")):"",c="MI_Analytics_Report_".concat(l).concat(u,".pdf");console.log("Saving PDF with filename:",c),n.save(c),console.log("PDF export completed successfully!")}catch(x){console.error("Error generating PDF:",x),console.error("Error stack:",x.stack),S("Failed to generate PDF report: "+x.message)}},size:"sm",className:"bg-green-600 hover:bg-green-700 text-white",disabled:!L.players||0===L.players.length,children:[(0,es.jsx)(zu,{className:"h-4 w-4 mr-2"}),"Export PDF"]})]})]})}),(0,es.jsx)(cs,{children:(0,es.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[(0,es.jsxs)("div",{children:[(0,es.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Player"}),(0,es.jsxs)("select",{value:C.player,onChange:e=>q("player",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-white text-gray-900 focus:ring-2 focus:ring-blue-500",children:[(0,es.jsx)("option",{value:"",children:"All Players"}),null===(e=_.players)||void 0===e?void 0:e.map(((e,t)=>(0,es.jsx)("option",{value:e,children:e},t)))]})]}),(0,es.jsxs)("div",{children:[(0,es.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Format"}),(0,es.jsxs)("select",{value:C.format,onChange:e=>q("format",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-white text-gray-900 focus:ring-2 focus:ring-blue-500",children:[(0,es.jsx)("option",{value:"",children:"All Formats"}),null===(t=_.formats)||void 0===t?void 0:t.map(((e,t)=>(0,es.jsx)("option",{value:e,children:e},t)))]})]}),(0,es.jsxs)("div",{children:[(0,es.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tournament"}),(0,es.jsxs)("select",{value:C.tournament,onChange:e=>q("tournament",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-white text-gray-900 focus:ring-2 focus:ring-blue-500",children:[(0,es.jsx)("option",{value:"",children:"All Tournaments"}),null===(n=_.tournaments)||void 0===n?void 0:n.map(((e,t)=>(0,es.jsx)("option",{value:e,children:e},t)))]})]}),(0,es.jsxs)("div",{children:[(0,es.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),(0,es.jsx)("input",{type:"date",value:C.date_from,onChange:e=>q("date_from",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-white text-gray-900 focus:ring-2 focus:ring-blue-500",min:null===(r=_.date_range)||void 0===r?void 0:r.min,max:null===(a=_.date_range)||void 0===a?void 0:a.max})]}),(0,es.jsxs)("div",{children:[(0,es.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),(0,es.jsx)("input",{type:"date",value:C.date_to,onChange:e=>q("date_to",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-white text-gray-900 focus:ring-2 focus:ring-blue-500",min:null===(o=_.date_range)||void 0===o?void 0:o.min,max:null===(s=_.date_range)||void 0===s?void 0:s.max})]})]})})]}),L.summary&&Object.keys(L.summary).length>0&&(0,es.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,es.jsx)(H,{title:"Matches Analyzed",value:L.summary.total_matches||0,icon:Ru,subtitle:"In Current Filter"}),(0,es.jsx)(H,{title:"Players",value:L.summary.unique_players||0,icon:Iu,subtitle:"Active in Period"}),(0,es.jsx)(H,{title:"Formats",value:L.summary.formats_covered||0,icon:Cu,subtitle:"Covered"}),(0,es.jsx)(H,{title:"Tournaments",value:L.summary.tournaments_covered||0,icon:Eu,subtitle:"Included"})]}),(0,es.jsxs)(ss,{className:"bg-white/95 backdrop-blur-sm",children:[(0,es.jsx)(ls,{children:(0,es.jsx)(us,{className:"text-gray-900",children:"Player Analytics"})}),(0,es.jsx)(cs,{children:E?(0,es.jsxs)("div",{className:"text-center py-8",children:[(0,es.jsx)(Fu,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),(0,es.jsx)("p",{children:"Loading analytics..."})]}):L.players.length>0?(0,es.jsx)("div",{className:"space-y-6",children:L.players.map(((e,t)=>(0,es.jsx)(G,{player:e},t)))}):(0,es.jsxs)("div",{className:"text-center py-8",children:[(0,es.jsx)(Ou,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,es.jsx)("p",{className:"text-gray-600",children:"No analytics data available"}),(0,es.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Try adjusting your filters or sync more data"})]})})]})]})})]})]})]})};o.createRoot(document.getElementById("root")).render((0,es.jsx)(i.StrictMode,{children:(0,es.jsx)(qu,{})}))})();
//# sourceMappingURL=main.4349be6e.js.map